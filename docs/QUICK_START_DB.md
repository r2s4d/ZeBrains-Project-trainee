# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å PostgreSQL - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä

## –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
brew services start postgresql@15

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
brew services list | grep postgres
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: postgresql@15 started
```

## –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î

–û—Ç–∫—Ä–æ–π—Ç–µ Terminal –∏ –≤–≤–µ–¥–∏—Ç–µ:

```bash
psql -h localhost -U postgres -d ai_news_db
```

**–ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**
```
Password for user postgres: [–≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å]
psql (15.x)
Type "help" for help.

ai_news_db=# 
```

‚úÖ –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `ai_news_db=#` - –≤—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã!

## –®–∞–≥ 3: –ü–µ—Ä–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã **–ø–æ –æ—á–µ—Ä–µ–¥–∏**:

### 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
```sql
\dt
```

**–í—ã —É–≤–∏–¥–∏—Ç–µ:**
```
                List of relations
 Schema |        Name        | Type  |  Owner   
--------+--------------------+-------+----------
 public | digest_sessions    | table | postgres  ‚Üê –ù–∞—à–∞ —Ç–∞–±–ª–∏—Ü–∞!
 public | news               | table | postgres
 ...
```

### 2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã digest_sessions
```sql
\d digest_sessions
```

**–í—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è (–∫–æ–ª–æ–Ω–∫–∏) —Ç–∞–±–ª–∏—Ü—ã.**

### 3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
```sql
SELECT * FROM digest_sessions;
```

–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞—è, —É–≤–∏–¥–∏—Ç–µ:
```
(0 rows)
```

–ï—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ, —É–≤–∏–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É —Å –∑–∞–ø–∏—Å—è–º–∏.

### 4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
```sql
SELECT * FROM digest_sessions WHERE is_active = true;
```

### 5. –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
```sql
SELECT COUNT(*) FROM digest_sessions;
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
 count 
-------
     0
(1 row)
```

### 6. –í—ã–π—Ç–∏ –∏–∑ psql
```sql
\q
```

–í—ã –≤–µ—Ä–Ω–µ—Ç–µ—Å—å –≤ –æ–±—ã—á–Ω—ã–π Terminal.

---

## üé® –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DBeaver (–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
brew install --cask dbeaver-community
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ DBeaver
2. –ù–∞–∂–º–∏—Ç–µ "Database" ‚Üí "New Database Connection"
3. –í—ã–±–µ—Ä–∏—Ç–µ "PostgreSQL"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Host:** `localhost`
   - **Port:** `5432`
   - **Database:** `ai_news_db`
   - **Username:** `postgres`
   - **Password:** [–≤–∞—à –ø–∞—Ä–æ–ª—å –∏–∑ `.env`]
5. –ù–∞–∂–º–∏—Ç–µ "Test Connection"
6. –ù–∞–∂–º–∏—Ç–µ "Finish"

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ:
   ```
   PostgreSQL ‚Üí ai_news_db ‚Üí Schemas ‚Üí public ‚Üí Tables
   ```

2. –ö–ª–∏–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ `digest_sessions`

3. –í—ã–±–µ—Ä–∏—Ç–µ "View Data" ‚Üí –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞!

4. –î–ª—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤:
   - –ù–∞–∂–º–∏—Ç–µ `Cmd + ]` (New SQL Script)
   - –ù–∞–ø–∏—à–∏—Ç–µ: `SELECT * FROM digest_sessions;`
   - –ù–∞–∂–º–∏—Ç–µ `Cmd + Enter` (–≤—ã–ø–æ–ª–Ω–∏—Ç—å)

---

## üìä –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
python run_bot.py
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –¥–∞–π–¥–∂–µ—Å—Ç
–û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ —á–∞—Ç –∫—É—Ä–∞—Ç–æ—Ä–æ–≤: `/morning_digest`

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î (–≤ –¥—Ä—É–≥–æ–º –æ–∫–Ω–µ Terminal)
```bash
psql -h localhost -U postgres -d ai_news_db
```

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
SELECT * FROM digest_sessions WHERE is_active = true;

-- –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å!
```

### 4. –û–¥–æ–±—Ä–∏—Ç–µ –¥–∞–π–¥–∂–µ—Å—Ç –≤ Telegram

### 5. –°–Ω–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î
```sql
-- –°–µ—Å—Å–∏—è –¥–æ–ª–∂–Ω–∞ —Å—Ç–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π
SELECT * FROM digest_sessions ORDER BY created_at DESC LIMIT 1;
-- is_active –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å false
```

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### –°–æ–≤–µ—Ç 1: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `~/my_queries.sql`:
```sql
-- –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
SELECT * FROM digest_sessions WHERE is_active = true;

-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–µ—Å—Å–∏–π
SELECT * FROM digest_sessions ORDER BY created_at DESC LIMIT 10;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
SELECT 
    is_active,
    COUNT(*) as –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
FROM digest_sessions
GROUP BY is_active;
```

–ó–∞–ø—É—Å–∫:
```bash
psql -h localhost -U postgres -d ai_news_db -f ~/my_queries.sql
```

### –°–æ–≤–µ—Ç 2: Alias –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

–î–æ–±–∞–≤—å—Ç–µ –≤ `~/.zshrc`:
```bash
alias db='psql -h localhost -U postgres -d ai_news_db'
```

–¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –ø–∏—à–∏—Ç–µ:
```bash
db
```

### –°–æ–≤–µ—Ç 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥

–í psql –Ω–∞–∂–º–∏—Ç–µ **—Å—Ç—Ä–µ–ª–∫—É –≤–≤–µ—Ä—Ö ‚Üë** –¥–ª—è –ø–æ–≤—Ç–æ—Ä–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∫–æ–º–∞–Ω–¥.

---

## üÜò –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ü—Ä–æ–±–ª–µ–º–∞: "connection refused"
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
brew services start postgresql@15
```

### –ü—Ä–æ–±–ª–µ–º–∞: "password authentication failed"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ .env
cat .env | grep DATABASE_PASSWORD
```

### –ü—Ä–æ–±–ª–µ–º–∞: "database does not exist"
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É
psql -U postgres -c "CREATE DATABASE ai_news_db;"
```

---

## üìö –î–∞–ª—å–Ω–µ–π—à–µ–µ –æ–±—É—á–µ–Ω–∏–µ

1. **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** [DATABASE_BEGINNER_GUIDE.md](DATABASE_BEGINNER_GUIDE.md)
2. **–®–ø–∞—Ä–≥–∞–ª–∫–∞ –∫–æ–º–∞–Ω–¥:** [SQL_CHEATSHEET.md](SQL_CHEATSHEET.md)
3. **–ú–∏–≥—Ä–∞—Ü–∏—è —Å–µ—Å—Å–∏–π:** [../MIGRATION_DIGEST_SESSIONS_GUIDE.md](../MIGRATION_DIGEST_SESSIONS_GUIDE.md)

---

## üéØ –†–µ–∑—é–º–µ: 3 —Å–ø–æ—Å–æ–±–∞ —Ä–∞–±–æ—Ç—ã —Å –ë–î

### –°–ø–æ—Å–æ–± 1: –¢–µ—Ä–º–∏–Ω–∞–ª (–¥–ª—è –ø—Ä–æ—Ñ–∏)
```bash
psql -h localhost -U postgres -d ai_news_db
```
**–ü–ª—é—Å—ã:** –ë—ã—Å—Ç—Ä–æ, –¥–æ—Å—Ç—É–ø–Ω–æ –≤–µ–∑–¥–µ  
**–ú–∏–Ω—É—Å—ã:** –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã

### –°–ø–æ—Å–æ–± 2: DBeaver (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö!)
```bash
brew install --cask dbeaver-community
```
**–ü–ª—é—Å—ã:** –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ª–µ–≥–∫–æ —É—á–∏—Ç—å—Å—è  
**–ú–∏–Ω—É—Å—ã:** –ù—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å

### –°–ø–æ—Å–æ–± 3: Python-—Å–∫—Ä–∏–ø—Ç (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)
```python
from sqlalchemy import create_engine
engine = create_engine('postgresql://postgres:password@localhost/ai_news_db')
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –∫–æ–¥–µ
```
**–ü–ª—é—Å—ã:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è  
**–ú–∏–Ω—É—Å—ã:** –ù—É–∂–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å

---

**–ù–∞—á–Ω–∏—Ç–µ —Å DBeaver - —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è!** üöÄ

**–í–µ—Ä—Å–∏—è:** 1.0  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-10-01

