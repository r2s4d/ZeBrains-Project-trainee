# üöÄ –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –æ—Ç Mock –∫ —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ

## üìã **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Mock/–ó–∞–≥–ª—É—à–∫–∏)**

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∑–∞–≥–ª—É—à–∫–∞–º–∏:**
- Telegram-–±–æ—Ç —Å –ø–æ–ª–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### ‚ùå **–ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ:**

#### **1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- **–°–µ–π—á–∞—Å:** MockDatabaseService —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–ù—É–∂–Ω–æ:** –†–µ–∞–ª—å–Ω–∞—è PostgreSQL/MySQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ß—Ç–æ –¥–µ–ª–∞—Ç—å:** 
  - –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–π –ë–î
  - –ó–∞–º–µ–Ω–∏—Ç—å MockDatabaseService –Ω–∞ RealDatabaseService

#### **2. OpenAI —Å–µ—Ä–≤–∏—Å**
- **–°–µ–π—á–∞—Å:** MockOpenAIService —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
- **–ù—É–∂–Ω–æ:** –†–µ–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ OpenAI API
- **–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
  - –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á OpenAI
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ GPT
  - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –ª–∏–º–∏—Ç—ã API

#### **3. –≠–∫—Å–ø–µ—Ä—Ç—ã**
- **–°–µ–π—á–∞—Å:** –¢–µ—Å—Ç–æ–≤—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã –≤ Mock –¥–∞–Ω–Ω—ã—Ö
- **–ù—É–∂–Ω–æ:** –†–µ–∞–ª—å–Ω—ã–µ –ª—é–¥–∏-—ç–∫—Å–ø–µ—Ä—Ç—ã
- **–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
  - –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
  - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π

#### **4. –ù–æ–≤–æ—Å—Ç–∏**
- **–°–µ–π—á–∞—Å:** –°—Ç–∞—Ç–∏—á–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
- **–ù—É–∂–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤
- **–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
  - –°–æ–∑–¥–∞—Ç—å NewsParserService
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–µ—Ç–µ–∫—Ü–∏—é –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

## üéØ **–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏**

### **–≠—Ç–∞–ø 1: –†–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (1-2 –¥–Ω—è)**

#### **–®–∞–≥ 1.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL
brew install postgresql
brew services start postgresql

# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
createdb ai_news_assistant
```

#### **–®–∞–≥ 1.2: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î**
```python
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª database_schema.sql
CREATE TABLE sources (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    telegram_id VARCHAR(255) UNIQUE NOT NULL,
    description TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE news (
    id SERIAL PRIMARY KEY,
    title VARCHAR(500) NOT NULL,
    content TEXT NOT NULL,
    source_id INTEGER REFERENCES sources(id),
    status VARCHAR(50) DEFAULT 'pending',
    url VARCHAR(500),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    curator_id INTEGER,
    curated_at TIMESTAMP
);

# ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
```

#### **–®–∞–≥ 1.3: –†–µ–∞–ª—å–Ω—ã–π DatabaseService**
```python
# –°–æ–∑–¥–∞—Ç—å RealDatabaseService
class RealDatabaseService:
    def __init__(self):
        self.engine = create_engine('postgresql://user:pass@localhost/ai_news_assistant')
        self.SessionLocal = sessionmaker(bind=self.engine)
    
    def get_session(self):
        return self.SessionLocal()
```

### **–≠—Ç–∞–ø 2: –†–µ–∞–ª—å–Ω—ã–π OpenAI (1 –¥–µ–Ω—å)**

#### **–®–∞–≥ 2.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞**
```python
# –í .env —Ñ–∞–π–ª–µ
OPENAI_API_KEY=your_real_openai_api_key

# –í –∫–æ–¥–µ
import openai
openai.api_key = os.getenv('OPENAI_API_KEY')
```

#### **–®–∞–≥ 2.2: –†–µ–∞–ª—å–Ω—ã–π OpenAIService**
```python
class RealOpenAIService:
    def generate_summary(self, text: str) -> str:
        response = openai.ChatCompletion.create(
            model="gpt-3.5-turbo",
            messages=[{"role": "user", "content": f"–°–æ–∑–¥–∞–π –∫—Ä–∞—Ç–∫–æ–µ —Å–∞–º–º–∞—Ä–∏: {text}"}]
        )
        return response.choices[0].message.content
```

### **–≠—Ç–∞–ø 3: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (2-3 –¥–Ω—è)**

#### **–®–∞–≥ 3.1: NotificationService**
```python
class NotificationService:
    def notify_expert(self, expert_id: int, news_id: int):
        # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —ç–∫—Å–ø–µ—Ä—Ç—É –≤ Telegram
        pass
    
    def send_reminder(self, expert_id: int):
        # –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö
        pass
```

#### **–®–∞–≥ 3.2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ**
```python
class AutoAssignmentService:
    def auto_assign_experts(self):
        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∫ –Ω–æ–≤—ã–º –Ω–æ–≤–æ—Å—Ç—è–º
        pass
```

### **–≠—Ç–∞–ø 4: –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π (3-4 –¥–Ω—è)**

#### **–®–∞–≥ 4.1: NewsParserService**
```python
class NewsParserService:
    def parse_telegram_channels(self):
        # –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤
        pass
    
    def detect_duplicates(self, news_content: str):
        # –î–µ—Ç–µ–∫—Ü–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
        pass
```

#### **–®–∞–≥ 4.2: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á**
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å APScheduler –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
from apscheduler.schedulers.asyncio import AsyncIOScheduler

scheduler = AsyncIOScheduler()
scheduler.add_job(parse_news, 'interval', hours=1)
scheduler.start()
```

## üîÑ **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**

### **–§–∞–∑–∞ 1: –ß–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞–º–µ–Ω–∞ (1 –Ω–µ–¥–µ–ª—è)**
- –ó–∞–º–µ–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é
- –û—Å—Ç–∞–≤–∏—Ç—å Mock –¥–ª—è OpenAI (–¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏)
- –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª

### **–§–∞–∑–∞ 2: –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ (1 –Ω–µ–¥–µ–ª—è)**
- –ó–∞–º–µ–Ω–∏—Ç—å OpenAI –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é

### **–§–∞–∑–∞ 3: –ü—Ä–æ–¥–∞–∫—à–µ–Ω (1 –Ω–µ–¥–µ–ª—è)**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üõ† **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞**

### **1. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è**
```python
# –í config.py
class Config:
    USE_MOCK_DATABASE = os.getenv('USE_MOCK_DATABASE', 'true').lower() == 'true'
    USE_MOCK_OPENAI = os.getenv('USE_MOCK_OPENAI', 'true').lower() == 'true'
    DATABASE_URL = os.getenv('DATABASE_URL', 'postgresql://...')
    OPENAI_API_KEY = os.getenv('OPENAI_API_KEY')
```

### **2. Factory –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤**
```python
class ServiceFactory:
    @staticmethod
    def create_database_service():
        if Config.USE_MOCK_DATABASE:
            return MockDatabaseService()
        else:
            return RealDatabaseService()
    
    @staticmethod
    def create_openai_service():
        if Config.USE_MOCK_OPENAI:
            return MockOpenAIService()
        else:
            return RealOpenAIService()
```

### **3. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è**
```bash
# –ù–∞—á–∞—Ç—å —Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
export USE_MOCK_DATABASE=false
export DATABASE_URL=postgresql://user:pass@localhost/ai_news_assistant

# –ó–∞—Ç–µ–º OpenAI
export USE_MOCK_OPENAI=false
export OPENAI_API_KEY=your_key
```

## üìä **–ú–µ—Ç—Ä–∏–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**

### **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**
- [ ] –†–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] OpenAI API –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

## üéØ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**

### **–ù–∞—á–∞—Ç—å —Å:**
1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —Å–∏—Å—Ç–µ–º—ã
2. **–†–µ–∞–ª—å–Ω—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã** - —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
3. **OpenAI API** - –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∞–º–º–∞—Ä–∏

### **–û—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—Ç–æ–º:**
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é
2. **–°–ª–æ–∂–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é** - —Å–Ω–∞—á–∞–ª–∞ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç

## üí° **–í—ã–≤–æ–¥**

–°–µ–π—á–∞—Å —É –Ω–∞—Å –µ—Å—Ç—å **–æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø** —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. –ó–∞–≥–ª—É—à–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –ª–æ–≥–∏–∫—É
- –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –í—ã–±—Ä–∞—Ç—å, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã? 